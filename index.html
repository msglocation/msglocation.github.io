<html>
  <head>
    <title>Quick Start - Leaflet</title>

    <meta charset="utf-8" />

    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <link
      rel="shortcut icon"
      type="image/x-icon"
      href="docs/images/favicon.ico"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400&display=swap"
      rel="stylesheet"
    />

    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.6.0/dist/leaflet.css"
      integrity="sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ=="
      crossorigin=""
    />
    <script
      src="https://unpkg.com/leaflet@1.6.0/dist/leaflet.js"
      integrity="sha512-gZwIG9x3wUXg2hdXF6+rVkLF/0Vi9U8D2Ntg4Ga5I5BZpVkVxlJWbSQtXPSiUTtC0TjtGOmxa1AJPuV0CPthew=="
      crossorigin=""
    ></script>
    <script
      src="https://code.jquery.com/jquery-3.4.1.slim.min.js"
      integrity="sha256-pasqAKBDmFT4eHoN2ndd6lN370kFiGUFyTiUHWhU7k8="
      crossorigin="anonymous"
    ></script>
    <link rel="stylesheet" href="./index.css" crossorigin="" />
  </head>
  <body>
    <div
      id="mapid"
      class="leaflet-container leaflet-fade-anim leaflet-grab leaflet-touch-drag"
      tabindex="0"
    >
      <div class="leaflet-control-container">
        <div class="leaflet-top leaflet-left">
          <div class="leaflet-control-zoom leaflet-bar leaflet-control">
            <a
              class="leaflet-control-zoom-in"
              href="#"
              title="Zoom in"
              role="button"
              aria-label="Zoom in"
              >+</a
            ><a
              class="leaflet-control-zoom-out"
              href="#"
              title="Zoom out"
              role="button"
              aria-label="Zoom out"
              >âˆ’</a
            >
          </div>
        </div>
      </div>
    </div>
    <div class="buttonwrapper">
      <p id="btnSendLocation" class="btnsendlocation">Send Location</p>
      <p id="btnSetLocation" class="btnsendlocation">Set Location</p>
    </div>
    <script>
      function getLocation() {
        if (navigator.geolocation) {
          navigator.geolocation.getCurrentPosition(position => {
            renderMap(position);
          });
        } else {
          x.innerHTML = "Geolocation is not supported by this browser.";
        }
      }
      $(() => {
        getLocation();
      });
      $("#btnSendLocation").click(() => {
        alert("Send");
      });

      $("#btnSetLocation").click(() => {
        alert("Send");
        getLocation();
      });
    </script>
    <script>
      function renderMap(position) {
        var mymap = L.map("mapid").setView(
          [position.coords.latitude, position.coords.longitude],
          13
        );

        L.tileLayer(
          "https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw",
          {
            maxZoom: 18,

            id: "mapbox/streets-v11",
            tileSize: 512,
            zoomOffset: -1
          }
        ).addTo(mymap);

        L.marker([position.coords.latitude, position.coords.longitude])
          .addTo(mymap)

          .openPopup();
      }

      var popup = L.popup();
    </script>
  </body>
</html>
